@model eTicaretData.ViewModels.CheckoutViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    // Misafir için postAction "CheckoutAsGuest"
    var postAction = "CheckoutAsGuest";
}

<h2>Checkout - Misafir</h2>
@Html.ValidationSummary(true, "", new { @class = "alert alert-danger" })

<form method="post" asp-controller="Cart" asp-action="@postAction">
    <div class="form-group mb-3">
        <label asp-for="ShippingDetail.Email" class="form-label">E-Posta</label>
        @Html.EditorFor(m => m.ShippingDetail.Email, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.ShippingDetail.Email, "", new { @class = "text-danger" })
    </div>

    <!-- Misafir kullanıcı için kullanıcı adı alanı kaldırıldı -->
    <!-- Misafir için adres bilgileri, kullanıcı tarafından doldurulabilir -->
    <div class="form-group mb-3">
        <label asp-for="ShippingDetail.AdressTitle" class="form-label">Adres Türü</label>
        @Html.EditorFor(m => m.ShippingDetail.AdressTitle, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.ShippingDetail.AdressTitle, "", new { @class = "text-danger" })
    </div>
    <div class="form-group mb-3">
        <label asp-for="ShippingDetail.AddressLine1" class="form-label">Adres Satırı</label>
        @Html.EditorFor(m => m.ShippingDetail.AddressLine1, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.ShippingDetail.AddressLine1, "", new { @class = "text-danger" })
    </div>
    <div class="form-group mb-3">
        <label asp-for="ShippingDetail.District" class="form-label">Semt / İlçe</label>
        @Html.EditorFor(m => m.ShippingDetail.District, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.ShippingDetail.District, "", new { @class = "text-danger" })
    </div>
    <div class="form-group mb-3">
        <label asp-for="ShippingDetail.City" class="form-label">Şehir</label>
        @Html.EditorFor(m => m.ShippingDetail.City, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(m => m.ShippingDetail.City, "", new { @class = "text-danger" })
    </div>

    <button type="submit" class="btn btn-primary">Misafir Olarak Siparişi Tamamla</button>
</form>

<style>
    .form-label {
        font-weight: 600;
    }

    .form-control {
        font-size: 1rem;
        border-radius: 4px;
    }

    .text-danger {
        font-size: 0.9rem;
        margin-top: 0.25rem;
        display: block;
    }
</style>
